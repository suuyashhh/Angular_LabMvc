<main class="relative z-10 w-full mx-auto px-4 sm:px-6 lg:px-8 pt-24 sm:pt-28 lg:pt-32 pb-8 sm:pb-12 lg:pb-16 max-w-7xl min-h-screen">

  <!-- Particle background -->
  <div id="particles-js" class="fixed inset-0 -z-10"></div>

  <!-- Tab Navigation -->
  <div class="flex justify-center mb-6 sm:mb-8 lg:mb-10">
    <div class="card inline-flex bg-dark-800 p-1 rounded-lg border border-gray-700 space-x-1 sm:space-x-2 overflow-x-auto max-w-full">

      <button
        class="px-3 sm:px-4 lg:px-5 py-2 sm:py-2.5 rounded-md font-medium transition-all duration-300 flex items-center text-xs sm:text-sm lg:text-base whitespace-nowrap"
        [class.active-tab]="activeTab === 'webApps'"
        [class.inactive-tab]="activeTab !== 'webApps'"
        (click)="switchTab('webApps')">
        <i class="fas fa-laptop-code mr-1 sm:mr-2 text-sm sm:text-base"></i>
        <span>Web Applications</span>
      </button>

      <button
        class="px-3 sm:px-4 lg:px-5 py-2 sm:py-2.5 rounded-md font-medium transition-all duration-300 flex items-center text-xs sm:text-sm lg:text-base whitespace-nowrap"
        [class.active-tab]="activeTab === 'websites'"
        [class.inactive-tab]="activeTab !== 'websites'"
        (click)="switchTab('websites')">
        <i class="fas fa-globe mr-1 sm:mr-2 text-sm sm:text-base"></i>
        <span>Websites</span>
      </button>

    </div>
  </div>

  <!-- Projects Section -->
  <section class="mb-12 sm:mb-16 lg:mb-20">

    <h2 class="text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold pb-2 border-b-2 border-accent inline-block text-gradient mb-6 sm:mb-8 lg:mb-10">
      My Recent Works
    </h2>

    <!-- ================= WEB APPS SECTION ================= -->
    <div *ngIf="activeTab === 'webApps'" 
         class="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 lg:gap-8">

      <ng-container *ngFor="let project of projects">
        <div *ngIf="project.category === 'webApp'" 
             class="relative bg-dark rounded-lg border border-gray-800 overflow-hidden 
                    transform transition-all duration-500 hover:-translate-y-2 hover:shadow-xl 
                    hover:shadow-purple-500/10 group hover:border-accent/50">

          <!-- Image Carousel -->
          <div class="relative h-44 sm:h-52 md:h-56 lg:h-64 overflow-hidden cursor-pointer"
               (click)="openImagePreview(project)">

            <img *ngFor="let image of project.images; let i = index"
                 [src]="image"
                 [alt]="project.title"
                 [class.opacity-100]="currentImageIndex[project.id] === i"
                 [class.opacity-0]="currentImageIndex[project.id] !== i"
                 class="absolute inset-0 w-full h-full object-cover transition-opacity duration-500">

            <!-- Navigation -->
            <button
              (click)="prevImage(project.id); $event.stopPropagation()"
              class="absolute top-1/2 left-1.5 sm:left-2 md:left-3 lg:left-4 -translate-y-1/2 carousel-nav-btn text-white 
                     w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 rounded-full flex items-center justify-center z-10 text-xs sm:text-sm"
              aria-label="Previous image">
              <i class="fas fa-chevron-left"></i>
            </button>

            <button
              (click)="nextImage(project.id); $event.stopPropagation()"
              class="absolute top-1/2 right-1.5 sm:right-2 md:right-3 lg:right-4 -translate-y-1/2 carousel-nav-btn text-white 
                     w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 rounded-full flex items-center justify-center z-10 text-xs sm:text-sm"
              aria-label="Next image">
              <i class="fas fa-chevron-right"></i>
            </button>

            <!-- Click to preview indicator -->
            <div class="hidden sm:block absolute bottom-2 md:bottom-3 lg:bottom-4 left-1/2 -translate-x-1/2 bg-black/60 text-white 
                        px-2 md:px-3 py-1 rounded-full text-xs md:text-sm opacity-0 group-hover:opacity-100 
                        transition-opacity duration-300">
              <i class="fas fa-search-plus mr-1"></i> Click to preview
            </div>

          </div>

          <!-- Details -->
          <div class="p-3 sm:p-4 md:p-5 lg:p-6 bg-slate-800/90">

            <h3 class="text-base sm:text-lg md:text-xl lg:text-2xl font-bold mb-2 sm:mb-2.5 md:mb-3 text-purple-400">
              {{ project.title }}
            </h3>

            <p class="text-xs sm:text-sm md:text-base text-gray-300 mb-3 sm:mb-4 md:mb-5 line-clamp-2">
              {{ project.description }}
            </p>

            <!-- Tech -->
            <div class="flex flex-wrap gap-1 sm:gap-1.5 md:gap-2 mb-3 sm:mb-4 md:mb-5 lg:mb-6">
              <span *ngFor="let tech of project.tech"
                    class="px-1.5 sm:px-2 py-0.5 sm:py-1 text-[10px] sm:text-xs bg-purple-500/10 border border-purple-500/40 rounded text-purple-400">
                {{ tech }}
              </span>
            </div>

            <!-- Links -->
            <div class="grid grid-cols-2 gap-1.5 sm:gap-2 md:gap-3">

              <a [href]="project.links.code"
                 class="py-1.5 sm:py-2 bg-purple-500/10 border border-purple-500/40 
                        rounded-lg text-center text-purple-400 text-[10px] sm:text-xs md:text-sm hover:bg-purple-500/20 transition-colors flex items-center justify-center">
                <i class="fas fa-code mr-0.5 sm:mr-1"></i> <span>Code</span>
              </a>

              <a [href]="project.links.demo"
                 class="py-1.5 sm:py-2 bg-blue-500/10 border border-blue-500/40 
                        rounded-lg text-center text-blue-400 text-[10px] sm:text-xs md:text-sm hover:bg-blue-500/20 transition-colors flex items-center justify-center">
                <i class="fas fa-external-link-alt mr-0.5 sm:mr-1"></i> <span>Live Demo</span>
              </a>

              <a *ngIf="project.links.android" 
                 [href]="project.links.android"
                 class="py-1.5 sm:py-2 bg-green-500/10 border border-green-500/40 
                        rounded-lg text-center text-green-400 text-[10px] sm:text-xs md:text-sm hover:bg-green-500/20 transition-colors flex items-center justify-center">
                <i class="fab fa-android mr-0.5 sm:mr-1"></i> <span>Android</span>
              </a>

              <a *ngIf="project.links.desktop" 
                 [href]="project.links.desktop"
                 class="py-1.5 sm:py-2 bg-purple-500/10 border border-purple-500/40 
                        rounded-lg text-center text-purple-400 text-[10px] sm:text-xs md:text-sm hover:bg-purple-500/20 transition-colors flex items-center justify-center">
                <i class="fas fa-desktop mr-0.5 sm:mr-1"></i> <span>Desktop</span>
              </a>

              <a *ngIf="!project.links.android && !project.links.desktop" 
                 href="#" 
                 (click)="showToast($event)"
                 class="py-1.5 sm:py-2 bg-purple-500/10 border border-purple-500/40 
                        rounded-lg text-center text-purple-400 text-[10px] sm:text-xs md:text-sm hover:bg-purple-500/20 transition-colors flex items-center justify-center">
                <i class="fas fa-desktop mr-0.5 sm:mr-1"></i> <span>Desktop</span>
              </a>

            </div>

          </div>
        </div>
      </ng-container>
    </div>


    <!-- ================= WEBSITES SECTION ================= -->
    <div *ngIf="activeTab === 'websites'" 
         class="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 lg:gap-8">

      <ng-container *ngFor="let project of projects">
        <div *ngIf="project.category === 'website'" 
             class="relative bg-dark rounded-lg border border-gray-800 overflow-hidden 
                    transform transition-all duration-500 hover:-translate-y-2 hover:shadow-xl 
                    hover:shadow-purple-500/10 group hover:border-accent/50">

          <!-- Image -->
          <div class="relative h-44 sm:h-52 md:h-56 lg:h-64 overflow-hidden cursor-pointer"
               (click)="openImagePreview(project)">

            <img *ngFor="let image of project.images; let i = index"
                 [src]="image"
                 [alt]="project.title"
                 [class.opacity-100]="currentImageIndex[project.id] === i"
                 [class.opacity-0]="currentImageIndex[project.id] !== i"
                 class="absolute inset-0 w-full h-full object-cover transition-opacity duration-500">

            <!-- Navigation for websites with multiple images -->
            <ng-container *ngIf="project.images.length > 1">
              <button
                (click)="prevImage(project.id); $event.stopPropagation()"
                class="absolute top-1/2 left-1.5 sm:left-2 md:left-3 lg:left-4 -translate-y-1/2 carousel-nav-btn text-white 
                       w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 rounded-full flex items-center justify-center z-10 text-xs sm:text-sm"
                aria-label="Previous image">
                <i class="fas fa-chevron-left"></i>
              </button>

              <button
                (click)="nextImage(project.id); $event.stopPropagation()"
                class="absolute top-1/2 right-1.5 sm:right-2 md:right-3 lg:right-4 -translate-y-1/2 carousel-nav-btn text-white 
                       w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 rounded-full flex items-center justify-center z-10 text-xs sm:text-sm"
                aria-label="Next image">
                <i class="fas fa-chevron-right"></i>
              </button>
            </ng-container>

            <!-- Click to preview indicator -->
            <div class="hidden sm:block absolute bottom-2 md:bottom-3 lg:bottom-4 left-1/2 -translate-x-1/2 bg-black/60 text-white 
                        px-2 md:px-3 py-1 rounded-full text-xs md:text-sm opacity-0 group-hover:opacity-100 
                        transition-opacity duration-300">
              <i class="fas fa-search-plus mr-1"></i> Click to preview
            </div>
          </div>

          <!-- Details -->
          <div class="p-3 sm:p-4 md:p-5 lg:p-6 bg-slate-800/90">

            <h3 class="text-base sm:text-lg md:text-xl lg:text-2xl font-bold mb-2 sm:mb-2.5 md:mb-3 text-purple-400">
              {{ project.title }}
            </h3>

            <p class="text-xs sm:text-sm md:text-base text-gray-300 mb-3 sm:mb-4 md:mb-5 line-clamp-2">
              {{ project.description }}
            </p>

            <!-- Tech -->
            <div class="flex flex-wrap gap-1 sm:gap-1.5 md:gap-2 mb-3 sm:mb-4 md:mb-5 lg:mb-6">
              <span *ngFor="let tech of project.tech"
                    class="px-1.5 sm:px-2 py-0.5 sm:py-1 text-[10px] sm:text-xs bg-purple-500/10 border border-purple-500/40 rounded text-purple-400">
                {{ tech }}
              </span>
            </div>

            <!-- Links -->
            <div class="grid grid-cols-2 gap-1.5 sm:gap-2 md:gap-3">

              <a [href]="project.links.code"
                 class="py-1.5 sm:py-2 bg-purple-500/10 border border-purple-500/40 
                        rounded-lg text-center text-purple-400 text-[10px] sm:text-xs md:text-sm hover:bg-purple-500/20 transition-colors flex items-center justify-center">
                <i class="fas fa-code mr-0.5 sm:mr-1"></i> <span>Code</span>
              </a>

              <a [href]="project.links.demo"
                 class="py-1.5 sm:py-2 bg-blue-500/10 border border-blue-500/40 
                        rounded-lg text-center text-blue-400 text-[10px] sm:text-xs md:text-sm hover:bg-blue-500/20 transition-colors flex items-center justify-center">
                <i class="fas fa-external-link-alt mr-0.5 sm:mr-1"></i> <span>Live Demo</span>
              </a>

            </div>

          </div>
        </div>
      </ng-container>
    </div>

  </section>

  <!-- Footer -->
  <footer class="relative border-t border-white/10 mt-8 sm:mt-10 lg:mt-12 pt-6 sm:pt-8 lg:pt-10">
    <div class="max-w-6xl mx-auto text-center">
      <div class="flex justify-center space-x-3 sm:space-x-4 md:space-x-5 lg:space-x-6 mb-3 sm:mb-4">
        <a href="https://www.linkedin.com/in/suyash-patil-877398282/"
           class="text-light hover:text-accent transition-colors text-base sm:text-lg md:text-xl"
           aria-label="LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
        <a href="https://github.com/suuyashhh" 
           class="text-light hover:text-accent transition-colors text-base sm:text-lg md:text-xl"
           aria-label="GitHub">
          <i class="fab fa-github"></i>
        </a>
        <a href="#" 
           class="text-light hover:text-accent transition-colors text-base sm:text-lg md:text-xl"
           aria-label="Twitter">
          <i class="fab fa-twitter"></i>
        </a>
        <a href="mailto:suyashpatil2113@gmail.com" 
           class="text-light hover:text-accent transition-colors text-base sm:text-lg md:text-xl"
           aria-label="Email">
          <i class="fas fa-envelope"></i>
        </a>
      </div>
      <p class="text-xs sm:text-sm md:text-base text-light/70">Â© 2025 Suyash Patil.</p>
    </div>
  </footer>

</main>

<!-- ================= IMAGE PREVIEW MODAL ================= -->
<div *ngIf="showImagePreview" 
     class="fixed inset-0 z-[100] flex items-center justify-center bg-black/95 backdrop-blur-sm p-2 sm:p-4 md:p-6"
     (click)="closeImagePreview()">
  
  <div class="relative w-full max-w-7xl h-full max-h-[95vh] flex flex-col">
    
    <!-- Header Bar -->
    <div class="flex items-center justify-between mb-2 sm:mb-3 md:mb-4 px-2">
      <!-- Project Title -->
      <div class="text-white text-sm sm:text-base md:text-lg lg:text-xl font-semibold truncate max-w-[65%] sm:max-w-[70%]">
        {{ previewProjectTitle }}
      </div>

      <!-- Close Button -->
      <button
        (click)="closeImagePreview()"
        class="modal-close-btn text-white w-7 h-7 sm:w-8 sm:h-8 md:w-9 md:h-9 lg:w-10 lg:h-10 rounded-full 
               flex items-center justify-center transition-colors shadow-lg flex-shrink-0"
        aria-label="Close preview">
        <i class="fas fa-times text-sm sm:text-base md:text-lg lg:text-xl"></i>
      </button>
    </div>

    <!-- Image Container with Navigation -->
    <div class="relative flex-1 flex items-center justify-center min-h-0">
      
      <!-- Main Image -->
      <img [src]="previewImage" 
           [alt]="previewProjectTitle"
           class="max-w-full max-h-full object-contain rounded-md sm:rounded-lg shadow-2xl"
           (click)="$event.stopPropagation()">

      <!-- Left Navigation Button -->
      <button
        (click)="prevImageInPreview(); $event.stopPropagation()"
        class="absolute left-1 sm:left-2 md:left-4 lg:-left-14 top-1/2 -translate-y-1/2 modal-nav-btn text-white 
               w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center 
               transition-all duration-300 shadow-lg z-10 hover:scale-110"
        aria-label="Previous image">
        <i class="fas fa-chevron-left text-xs sm:text-sm md:text-base lg:text-xl"></i>
      </button>

      <!-- Right Navigation Button -->
      <button
        (click)="nextImageInPreview(); $event.stopPropagation()"
        class="absolute right-1 sm:right-2 md:right-4 lg:-right-14 top-1/2 -translate-y-1/2 modal-nav-btn text-white 
               w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center 
               transition-all duration-300 shadow-lg z-10 hover:scale-110"
        aria-label="Next image">
        <i class="fas fa-chevron-right text-xs sm:text-sm md:text-base lg:text-xl"></i>
      </button>

    </div>

    <!-- Bottom Controls -->
    <div class="flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-3 md:gap-4 mt-2 sm:mt-3 md:mt-4 px-2">
      <!-- Image Counter -->
      <div class="bg-black/70 text-white px-2.5 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded-full 
                  text-[10px] sm:text-xs md:text-sm font-medium shadow-lg order-2 sm:order-1"
           (click)="$event.stopPropagation()">
        {{ currentImageIndex[currentPreviewProjectId] + 1 }} / {{ getCurrentProjectImages().length }}
      </div>

      <!-- Close Button -->
      <button
        (click)="closeImagePreview(); $event.stopPropagation()"
        class="modal-close-red text-white px-3 sm:px-4 md:px-5 lg:px-6 py-1 sm:py-1.5 md:py-2 rounded-full 
               flex items-center justify-center transition-colors shadow-lg text-[10px] sm:text-xs md:text-sm order-1 sm:order-2"
        aria-label="Close preview">
        <i class="fas fa-times mr-1 sm:mr-2"></i>
        <span>Close Preview</span>
      </button>
    </div>
      
  </div>
</div>
<!-- monthly-pe.component.html -->
<!-- Page Header -->
<div class="flex items-center gap-4 bg-white p-4 rounded-xl shadow-sm border border-green-100 sticky top-0 z-40">
  <div
    class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-green-100 flex items-center justify-center shadow-inner flex-shrink-0">
    <img src="../../../assets/DairryFarmImg/fiscal_13495984.png" alt="Monthly Icon"
      class="w-6 h-6 sm:w-8 sm:h-8 object-contain" />
  </div>

  <div class="min-w-0">
    <h1 class="text-xl sm:text-2xl font-semibold text-green-900 truncate">Monthly Profit & Expense</h1>
    <p class="text-xs sm:text-sm text-green-600 -mt-0.5 truncate">View monthly profit and expense summary</p>
  </div>
</div>

<main class="min-h-screen bg-green-50 p-3 sm:p-4 md:p-6">
  <div class="max-w-7xl mx-auto">
    <!-- Loading indicator -->
    <div *ngIf="isLoading" class="text-center py-12">
      <div class="inline-block animate-spin rounded-full h-10 w-10 border-b-2 border-green-600"></div>
      <p class="text-sm text-green-600 mt-3">Loading monthly summary...</p>
    </div>

    <!-- Monthly Data -->
    <div *ngIf="!isLoading" class="space-y-4 sm:space-y-6">
      <!-- No Data Message -->
      <div *ngIf="monthlyData.length === 0" class="text-center py-12 bg-white rounded-xl border border-green-100">
        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-green-100 flex items-center justify-center">
          <i class="ri-pie-chart-line text-2xl text-green-400"></i>
        </div>
        <h3 class="text-lg font-medium text-green-900 mb-2">No Monthly Data Found</h3>
        <p class="text-sm text-green-600 px-4">Start adding bills and expenses to see your monthly summary here.</p>
      </div>

      <!-- Month Boxes -->
      <div *ngFor="let month of monthlyData; let i = index" class="month-box">
        <div class="flex-1">
          <h5 class="text-lg sm:text-xl font-semibold text-blue-600 mb-1">{{ month.displayMonth }}</h5>
        </div>
        
        <div class="text-right">
          <!-- Profit -->
          <p class="profit mb-2" [style.color]="month.profitColor">
            <span class="font-semibold">Profit:</span> {{ formatCurrency(month.profit) }}
          </p>
          
          <!-- Bill -->
          <p class="bill mb-1" style="color: green;">
            <span class="font-semibold">Bill:</span> {{ formatCurrency(month.totalBill) }}
          </p>
          
          <!-- Expense -->
          <p class="expense" style="color: red;">
            <span class="font-semibold">Expense:</span> {{ formatCurrency(month.totalExpense) }}
          </p>
        </div>
      </div>
    </div>
  </div>
</main>
